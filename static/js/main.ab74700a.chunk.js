(this["webpackJsonpreact-example"]=this["webpackJsonpreact-example"]||[]).push([[0],{30:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(14),i=n.n(a),r=(n(30),n(10)),s=n(3),o=n(9),u=n(25),l=n(24),j=n(12),h=n.n(j),m=n(16),b=n(8),d=n(1);function g(){return Object(d.jsx)(r.a,{children:Object(d.jsxs)("ul",{className:"bar col-2 col-sm-1   px-0",children:[Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{activeClassName:"active",exact:!0,to:"/scenicSpot",children:"ALL"})}),[{name:"\u81fa\u5317\u5e02",eng:"Taipei"},{name:"\u65b0\u5317\u5e02",eng:"NewTaipei"},{name:"\u6843\u5712\u5e02",eng:"Taoyuan"},{name:"\u81fa\u4e2d\u5e02",eng:"Taichung"},{name:"\u81fa\u5357\u5e02",eng:"Tainan"},{name:"\u9ad8\u96c4\u5e02",eng:"Kaohsiung"},{name:"\u57fa\u9686\u5e02",eng:"Keelung"},{name:"\u65b0\u7af9\u5e02",eng:"Hsinchu"},{name:"\u65b0\u7af9\u7e23",eng:"HsinchuCounty"},{name:"\u82d7\u6817\u7e23",eng:"MiaoliCounty"},{name:"\u5f70\u5316\u7e23",eng:"ChanghuaCounty"},{name:"\u5357\u6295\u7e23",eng:"NantouCounty"},{name:"\u96f2\u6797\u7e23",eng:"YunlinCounty"},{name:"\u5609\u7fa9\u7e23",eng:"ChiayiCounty"},{name:"\u5609\u7fa9\u5e02",eng:"Chiayi"},{name:"\u5c4f\u6771\u7e23",eng:"PingtungCounty"},{name:"\u5b9c\u862d\u7e23",eng:"YilanCounty"},{name:"\u82b1\u84ee\u7e23",eng:"HualienCounty"},{name:"\u81fa\u6771\u7e23",eng:"TaitungCounty"},{name:"\u91d1\u9580\u7e23",eng:"KinmenCounty"},{name:"\u6f8e\u6e56\u7e23",eng:"PenghuCounty"},{name:"\u9023\u6c5f\u7e23",eng:"LienchiangCounty"}].map((function(e){return Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{activeClassName:"active",to:"/scenicSpot/".concat(e.eng),children:e.name})},e.eng)}))]})})}var f=Object(o.c)({count:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"increment":return e+20;case"init":return console.log("\u8dd1init",e),20;default:return e}},datas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get_success":return{state:t.data,finish:!1};case"get_last":return{state:t.data,finish:!0};default:return e}}}),p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))},O=(n(38),Object(o.d)(f,Object(o.a)(l.a)));i.a.render(Object(d.jsx)(u.a,{store:O,children:Object(d.jsx)(r.a,{children:Object(d.jsxs)("div",{className:"container d-flex py-4",children:[Object(d.jsx)(g,{}),Object(d.jsxs)(s.c,{children:[Object(d.jsx)(s.a,{path:"/scenicSpot",exact:!0,component:function(){var e=Object(c.useState)(0),t=Object(b.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)([]),r=Object(b.a)(i,2),s=r[0],o=r[1],u=Object(c.useState)(!1),l=Object(b.a)(u,2),j=l[0],g=l[1],f=function(){window.scrollY+window.innerHeight>=document.body.scrollHeight&&a(n+30)},p=function(){var e=Object(m.a)(h.a.mark((function e(t){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\u5168\u90e8\u767c\u9001api"),e.next=3,fetch("https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?$top=30&$skip=".concat(t,"&$format=JSON"));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,o(s.concat(c)),30!==c.length?g(!0):g(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return j||window.addEventListener("scroll",f),function(){return window.removeEventListener("scroll",f)}})),Object(c.useEffect)((function(){p(n)}),[n]),Object(d.jsx)("div",{className:"view col-11",children:Object(d.jsx)("ul",{children:s?s.map((function(e){return Object(d.jsxs)("li",{className:"mb-3 py-2 px-2",children:[Object(d.jsx)("h2",{children:e.Name}),Object(d.jsx)("p",{children:e.DescriptionDetail}),e.Picture.PictureUrl1?Object(d.jsx)("img",{src:e.Picture.PictureUrl1,alt:""}):""]},e.ID)})):""})})}}),Object(d.jsx)(s.a,{path:"/scenicSpot/:city",component:function(){var e=Object(s.f)(),t=Object(c.useState)(0),n=Object(b.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)([]),o=Object(b.a)(r,2),u=o[0],l=o[1],j=Object(c.useState)(!1),g=Object(b.a)(j,2),f=g[0],p=g[1],O=Object(c.useState)(!1),x=Object(b.a)(O,2),v=x[0],w=x[1],y=function(){window.scrollY+window.innerHeight>=document.body.scrollHeight&&i(a+30)},C=function(){var t=Object(m.a)(h.a.mark((function t(n){var c,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot/".concat(e.params.city,"?$top=30&$skip=").concat(n,"&$format=JSON"));case 2:return c=t.sent,t.next=5,c.json();case 5:a=t.sent,console.log("data",a),l(u.concat(a)),30!==a.length?p(!0):p(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){return f||window.addEventListener("scroll",y),function(){return window.removeEventListener("scroll",y)}})),Object(c.useEffect)((function(){0!==a&&C(a)}),[a]),Object(c.useEffect)((function(){w(!0),l([])}),[e]),Object(c.useEffect)((function(){0===u.length&&0===a&&!0===v?(C(0),w(!1)):0===u.length&&0!==a&&(i(0),C(0))}),[u]),Object(d.jsx)("div",{className:"view col-10 col-sm-11",children:Object(d.jsx)("ul",{className:"",children:u.map((function(e){return Object(d.jsxs)("li",{className:"mb-3 py-2 px-2",children:[Object(d.jsx)("h2",{children:e.Name}),Object(d.jsx)("p",{children:e.DescriptionDetail}),e.Picture.PictureUrl1?Object(d.jsx)("img",{src:e.Picture.PictureUrl1,alt:""}):""]},e.ID)}))})})}})]})]})})}),document.getElementById("root")),p()}},[[39,1,2]]]);
//# sourceMappingURL=main.ab74700a.chunk.js.map